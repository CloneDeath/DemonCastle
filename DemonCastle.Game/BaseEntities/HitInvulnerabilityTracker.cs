using System;
using Godot;

namespace DemonCastle.Game.BaseEntities;

public partial class HitInvulnerabilityTracker : Node {
	public TimeSpan TimeSinceLastHit { get; private set; } = TimeSpan.FromSeconds(1.5);
	public bool IsInvulnerable => TimeSinceLastHit < TimeSpan.FromSeconds(2);
	public void EntityHasTakenDamage() => TimeSinceLastHit = TimeSpan.Zero;

	public override void _Process(double delta) {
		base._Process(delta);
		TimeSinceLastHit += TimeSpan.FromSeconds(delta);
	}
}